"use strict";(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[84],{39084:function(e,a,t){t.r(a),t.d(a,{default:function(){return y}});var n=t(1413),r=t(74165),i=t(15861),s=t(29439),c=t(72791),o=t(11087),l=t(66571),u=t(22664),d=(t(52641),t(39304)),p=t(53439),m=t(31243),v=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,m.Z.post("".concat("https://api.revistatemachtiani.net").concat(a),t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}(),h=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a,t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,m.Z.post("".concat("https://api.revistatemachtiani.net").concat(a),t);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(a,t){return e.apply(this,arguments)}}(),f=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(a){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.revistatemachtiani.net",e.prev=1,e.next=4,m.Z.get("".concat("https://api.revistatemachtiani.net").concat(a));case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(a){return e.apply(this,arguments)}}(),x=t(80184),y=function(){var e=(0,c.useState)({names:{value:null,validationType:"empty"},lastName:{value:null,validationType:"empty"},country:{value:null,validationType:"empty"},birthdate:{value:null,validationType:"empty"},gender:{value:null,validationType:"empty"},user:{value:null,validationType:"empty"},email:{value:null,validationType:"email"},password:{value:null,validationType:"empty"},confirm_password:{value:null,validationType:"empty"},orcid:{value:null,validationType:"empty"},ocupation:{value:null,validationType:"empty"},institute:{value:null,validationType:"empty"},academic_level:{value:null,validationType:"empty"}}),a=(0,s.Z)(e,2),t=a[0],m=a[1];(0,c.useEffect)((function(){for(var e in t)document.getElementById(e)&&(0,d.yt)(e,t),"email"===e&&(0,d.yt)(e,t,"email")}),[t]);var y=(0,c.useState)(!1),_=(0,s.Z)(y,2),j=_[0],b=_[1],g=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,n,i,c,o,l,u,f,x,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,d.DD)(t,m),n={data:{}},i=["country","gender","ocupation","academic_level"],!a){e.next=21;break}for(c=0,o=Object.entries(t);c<o.length;c++)l=(0,s.Z)(o[c],2),u=l[0],f=l[1].value,n.data[u]=(i.includes(u),f);return e.prev=5,x={username:t.user.value,email:t.email.value,password:t.password.value},e.next=9,h("/api/auth/local/register",x);case 9:if(200!==(y=e.sent).status){e.next=15;break}return e.next=13,v("/api/registers",n);case 13:200===e.sent.status?((0,p.A$)("\xa1Gracias por registrarte!","Revisa tu correo para confirmar tu cuenta haciendo clic en el enlace de confirmaci\xf3n. \xa1Bienvenido/a a nuestra comunidad en l\xednea!"),setTimeout((function(){b(!0)}),5e3)):(0,p.zR)("\xa1Algo sali\xf3 mal, intentalo m\xe1s tarde!",!0);case 15:400===y.status&&(0,p.zR)("Se envio una correo de confimacion a la siguiente direccion: ".concat(t.email.value)),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),(0,p.zR)("El correo electr\xf3nico o el nombre de usuario ya est\xe1n en uso",!0);case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(){return e.apply(this,arguments)}}(),N=(0,c.useState)({step_one:!0,step_two:!1,step_three:!1}),C=(0,s.Z)(N,2),w=C[0],Z=C[1],k=(0,c.useState)([]),I=(0,s.Z)(k,2),S=I[0],R=I[1];(0,c.useEffect)((function(){T()}),[]);var T=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var a,t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f("/api/countries");case 3:a=e.sent,t=a.data,n=t.map((function(e){return{id:e.id,value:e.attributes.value}})),R(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),(0,p.zR)("\xa1Algo sali\xf3 mal, intentalo m\xe1s tarde!",!0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return(0,x.jsxs)("div",{className:"Log_",children:[(0,x.jsxs)("div",{className:"inside_log ".concat(j&&"hiddenMenu"),children:[(0,x.jsx)(u.Z,{className:"btn_return",url:"/"}),(0,x.jsxs)("div",{className:"container",children:[(0,x.jsxs)("div",{className:"tamanio_cards",children:[(0,x.jsx)("h1",{children:"Datos personales"}),(0,x.jsxs)("div",{className:"inside_card",children:[(0,x.jsx)(l.II,{title:"Nombre(s)",placeholder:"Nombre(s)",id:"names",onChange:function(e){return(0,d.yS)(e,"names",t,m)}}),(0,x.jsx)(l.II,{title:"Apellidos",placeholder:"Apellidos",id:"lastName",onChange:function(e){return(0,d.yS)(e,"lastName",t,m)}}),(0,x.jsxs)("div",{className:"cnt_selects",children:[(0,x.jsx)(l.Ph,{title:"Pa\xeds",placeholder:"Pa\xeds",value:t.country.value,options:S,id:"country",onChange:function(e){return(0,d.yS)(e,"country",t,m)}}),(0,x.jsx)(l.Ph,{title:"G\xe9nero",placeholder:"G\xe9nero",options:[{value:"Masculino",code:"masculino"},{value:"Femenino",code:"femenino"},{value:"Otros",code:"otro"}],value:t.gender.value,id:"gender",onChange:function(e){return(0,d.yS)(e,"gender",t,m)}})]}),(0,x.jsx)(l.II,{type:"date",title:"Fecha de nacimiento",placeholder:"Fecha de nacimiento",value:t.birthdate.value,id:"birthdate",onChange:function(e){return(0,d.yS)(e,"birthdate",t,m)}}),(0,x.jsx)("div",{className:"cnt_btn",children:(0,x.jsx)(l.zx,{title:"Siguiente",className:"btn_primary",onClick:function(){Z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_one:!1,step_two:!0})}))}})})]}),!w.step_one&&(0,x.jsx)("div",{className:"dark:bg-half-transparent-black layer_blur"})]}),(0,x.jsxs)("div",{className:"tamanio_cards",children:[(0,x.jsx)("h1",{children:"Cuenta"}),(0,x.jsxs)("div",{className:"inside_card",children:[(0,x.jsx)(l.II,{title:"Usuario",placeholder:"Usuario",id:"user",onChange:function(e){return(0,d.yS)(e,"user",t,m)}}),(0,x.jsx)(l.II,{title:"Correo electr\xf3nico",placeholder:"Correo electr\xf3nico",id:"email",onChange:function(e){return(0,d.yS)(e,"email",t,m)}}),(0,x.jsxs)("div",{className:"instructions_pass",children:[(0,x.jsx)(l.CM,{title:"Contrase\xf1a",placeholder:"Contrase\xf1a",id:"password",onChange:function(e){return(0,d.yS)(e,"password",t,m)}}),(0,x.jsx)("div",{className:"desxr_",children:"Utiliza ocho caracteres como m\xednimo con una combinaci\xf3n de una letra, un n\xfamero y un s\xedmbolo"})]}),(0,x.jsx)(l.CM,{title:"Confirmar contrase\xf1a",placeholder:"Confirmar contrase\xf1a",id:"confirm_password",onChange:function(e){return(0,d.yS)(e,"confirm_password",t,m)}}),(0,x.jsxs)("div",{className:"cnt_btn btn_second",children:[(0,x.jsx)(l.zx,{title:"Regresar",className:"btn_cancel",onClick:function(){Z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_one:!0,step_two:!1})}))}}),(0,x.jsx)(l.zx,{title:"Siguiente",className:"btn_primary",onClick:function(){(0,d.JG)(t.password.value)?t.password.value!==t.confirm_password.value?(0,p.zR)("Las contrase\xf1as no coinciden",!0):Z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_three:!0,step_two:!1})})):(0,p.zR)("La contrase\xf1a debe contener al menos un d\xedgito, una letra may\xfascula y un car\xe1cter especial, y tener al menos 8 caracteres.",!0)}})]})]}),!w.step_two&&(0,x.jsx)("div",{className:"dark:bg-half-transparent-black layer_blur"})]}),(0,x.jsxs)("div",{className:"tamanio_cards three_card",children:[(0,x.jsxs)("div",{className:"inside_three",children:[(0,x.jsx)("h1",{children:"Tipo de cuenta"}),(0,x.jsxs)("div",{className:"inside_card inside_card_three",children:[(0,x.jsxs)("div",{className:"cnt-orcid",children:[(0,x.jsx)(l.II,{title:"Orcid ID",placeholder:"Orcid ID",id:"orcid",onChange:function(e){return(0,d.yS)(e,"orcid",t,m)}}),(0,x.jsxs)("label",{className:"orcid_",children:["Solo el ",(0,x.jsx)("a",{href:"https://orcid.org/",style:{color:"blue"},target:"_blank",rel:"noreferrer",children:"Registro ORCID"})," puede asignar ORCID iDs. Debes aceptar sus est\xe1ndares para disponer de ORCID iDs e incluir la URL completa (pe. https://orcid.org/0000-0002-1825-0097)."]})]}),(0,x.jsx)(l.II,{title:"Instituto",placeholder:"Instituto",id:"institute",onChange:function(e){return(0,d.yS)(e,"institute",t,m)}}),(0,x.jsx)(l.Ph,{title:"Ocupaci\xf3n",placeholder:"Ocupaci\xf3n",options:[{id:1,value:"Acad\xe9mico",code:"academico"},{id:2,value:"Investigador",code:"investigador"}],value:t.ocupation.value,id:"ocupation",onChange:function(e){return(0,d.yS)(e,"ocupation",t,m)}}),(0,x.jsx)(l.Ph,{title:"Nivel acad\xe9mico",placeholder:"Nivel acad\xe9mico",options:[{id:1,value:"Maestria",code:"maestria"},{id:2,value:"Doctorado",code:"dosctorado"}],value:t.academic_level.value,id:"academic_level",onChange:function(e){return(0,d.yS)(e,"academic_level",t,m)}})]})]}),(0,x.jsxs)("div",{className:"cnt_btn th_",children:[(0,x.jsx)(l.zx,{title:"Regresar",className:"btn_cancel",onClick:function(){Z((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_three:!1,step_two:!0})}))}}),(0,x.jsx)(l.zx,{title:"Crear cuenta",className:"btn_primary",onClick:function(){return g()}})]}),!w.step_three&&(0,x.jsx)("div",{className:"dark:bg-half-transparent-black layer_blur"})]})]}),(0,x.jsx)("div",{className:"dark:text-white Ihave_Account",children:(0,x.jsx)(o.OL,{className:"link_account",to:"/login",children:"Ya tengo una cuenta"})})]}),(0,x.jsxs)("div",{className:"hiddenDiv dark:text-white ".concat(j&&"completedRegister"),children:[(0,x.jsx)("label",{htmlFor:"",children:"\xa1Registro Completo!"}),"Revisa tu bandeja de correo electr\xf3nico:"," "," ",(0,x.jsx)("b",{children:t.email.value})]})]})}}}]);
//# sourceMappingURL=84.d4051675.chunk.js.map