(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[918],{27619:function(e,t,n){"use strict";n.d(t,{Qo:function(){return h},if:function(){return d},oN:function(){return b}});var a=n(74165),r=n(15861),c=n(31243),i=n(53439),s=n(89704),o=n.n(s),l="https://api.revistatemachtiani.net",u="C4CF1629D81577CF",d=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/api/registers?filters[email][$eq]=").concat(t)).then((function(e){if(0!=e.data.data.length){(0,i.Wi)("Email valido");var c=function(){var c=(0,r.Z)((0,a.Z)().mark((function r(){var c;return(0,a.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,m(t);case 2:if(!a.sent){a.next=6;break}g(e.data.data,t,n,e.data.data[0].id),a.next=8;break;case 6:c=p(),f(t,c,n,e.data.data[0].id);case 8:case"end":return a.stop()}}),r)})));return function(){return c.apply(this,arguments)}}();c()}else(0,i.zR)("Email invalido")})).catch((function(){(0,i.zR)("Email invalido")}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){return Math.floor(9e4*Math.random())+1e4},f=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r,i){var s,o,u,d,p;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(t);case 2:return s=e.sent,console.log("idUsers",s),o={data:{email:t,code:n}},e.next=7,c.Z.post("".concat(l,"/api/verify-codes"),o);case 7:v(t,"Este es un c\xf3digo de verificaci\xf3n de temachtiani",n),u=h(n),d=h(i),p=h(s),u=u.replace(/\//g,"_"),d=d.replace(/\//g,"_"),p=p.replace(/\//g,"_"),r("/verification-code/".concat(u,"/").concat(d,"/").concat(p));case 15:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("".concat(l,"/api/verify-codes?filters[email][$eq]=").concat(t));case 3:if(0==(n=e.sent).data.data.length){e.next=9;break}return console.log("true",n.data.data),e.abrupt("return",!0);case 9:return console.log("false",n.data.data),e.abrupt("return",!1);case 11:e.next=17;break;case 13:throw e.prev=13,e.t0=e.catch(0),console.log("error en find email",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),v=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r){var i,s;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("undefined"===typeof r){e.next=8;break}return i=r.toString(),s={to:t,subject:n,text:i},console.log("codestring",i),e.next=6,c.Z.post("".concat(l,"/api/email"),s).then((function(e){console.log("entro")})).catch((function(e){console.log("fallo")}));case 6:e.next=8;break;case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),g=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r,i){var s,o,d,f,m,g,b;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/api/verify-codes?filters[email][$eq]=").concat(n));case 2:return s=e.sent,e.next=5,x(n);case 5:return o=e.sent,console.log("idUsers",o),d=p(),f={data:{code:d}},e.next=11,c.Z.put("".concat(l,"/api/verify-codes/").concat(s.data.data[0].id),f);case 11:v(n,"Este es un c\xf3digo de verificaci\xf3n de temachtiani",d),console.log("newCode",d.toString()),console.log("key",u),m=(m=h(d)).replace(/\//g,"_"),g=(g=h(i)).replace(/\//g,"_"),b=(b=h(o)).replace(/\//g,"_"),r("/verification-code/".concat(m,"/").concat(g,"/").concat(b));case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),h=function(e){return o().AES.encrypt(e.toString(),u).toString()},b=function(e){return o().AES.decrypt(e,u,{iv:o().enc.Hex.parse("a0d5ebe6a0d5ebe6a0d5ebe6a0d5ebe6")}).toString(o().enc.Utf8)},x=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t){var n;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("".concat(l,"/api/users?filters[email][$eq]=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data[0].id);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},33857:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var a=n(93433),r=n(29439),c=n(72791),i=(n(17634),n(66571)),s=n(95854);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o.apply(this,arguments)}var l={defaultProps:{__TYPE:"Steps",id:null,model:null,activeIndex:0,readOnly:!0,style:null,className:null,onSelect:null,children:void 0},getProps:function(e){return s.gb.getMergedProps(e,l.defaultProps)},getOtherProps:function(e){return s.gb.getDiffProps(e,l.defaultProps)}},u=c.memo(c.forwardRef((function(e,t){var n=l.getProps(e),a=c.useRef(null),r=function(e,t,a){n.readOnly||t.disabled?e.preventDefault():(n.onSelect&&n.onSelect({originalEvent:e,item:t,index:a}),t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:a}))},i=function(e,t){if(!1===e.visible)return null;var a=e.label+"_"+t,i=t===n.activeIndex,o=e.disabled||t!==n.activeIndex&&n.readOnly,l=o?-1:"",u=(0,s.AK)("p-steps-item",e.className,{"p-highlight p-steps-current":i,"p-disabled":o}),d=(0,s.AK)("p-menuitem-icon",e.icon),p=s.Cz.getJSXIcon(e.icon,{className:"p-menuitem-icon"},{props:n}),f=e.label&&c.createElement("span",{className:"p-steps-title"},e.label),m=c.createElement("a",{href:e.url||"#",className:"p-menuitem-link",role:"presentation",target:e.target,onClick:function(n){return r(n,e,t)},tabIndex:l},c.createElement("span",{className:"p-steps-number"},t+1),p,f);if(e.template){var v={onClick:function(n){return r(n,e,t)},className:"p-menuitem-link",labelClassName:"p-steps-title",numberClassName:"p-steps-number",iconClassName:d,element:m,props:n,tabIndex:l,active:i,disabled:o};m=s.gb.getJSXElement(e.template,e,v)}return c.createElement("li",{key:a,id:e.id,className:u,style:e.style,role:"tab","aria-selected":i,"aria-expanded":i},m)};c.useImperativeHandle(t,(function(){return{props:n,getElement:function(){return a.current}}}));var u=l.getOtherProps(n),d=(0,s.AK)("p-steps p-component",{"p-readonly":n.readOnly},n.className),p=function(){if(n.model){var e=n.model.map(i);return c.createElement("ul",{role:"tablist"},e)}return null}();return c.createElement("div",o({id:n.id,ref:a,className:d,style:n.style},u),p)})));u.displayName="Steps";var d=n(80184),p=function(e){var t=e.estatus,n=void 0===t?0:t;return(0,d.jsx)("div",{className:"Steps_",children:(0,d.jsx)(u,{model:[{id:0,label:"Enviado"},{id:1,label:"En espera"},{id:2,label:"Revisando normas"},{id:3,label:"Aprobado"},{id:4,label:"Publicado"}],activeIndex:n})})},f=n(22664),m=n(57689),v=n(74165),g=n(15861),h=n(31243),b=n(27619),x=function(){var e=(0,g.Z)((0,v.Z)().mark((function e(t,n){var a;return(0,v.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=(a=t).replace(/_/g,"/"),a=(0,b.oN)(a),console.log("decriptId",a),e.next=6,h.Z.get("".concat("https://api.revistatemachtiani.net","/api/articles/").concat(a)).then((function(e){console.log("res",e),n(e.data.data.attributes.dataArticle)})).catch((function(e){console.log("res",e)}));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=function(){var e=(0,c.useState)(),t=(0,r.Z)(e,2),n=t[0],s=t[1],o=(0,m.UO)().id;(0,c.useEffect)((function(){x(o,s)}),[]),(0,c.useEffect)((function(){if(null!==n&&void 0!==n&&n.stakingInputData){var e=[];n.stakingInputData.map((function(t,n){(e=(0,a.Z)(e)).push(t["nameStaking".concat(n)].value+" "+t["lastName".concat(n)].value),console.log("item",t["nameStaking".concat(n)].value+" "+t["lastName".concat(n)].value)})),g(e)}}),[n]);var l=(0,c.useState)([]),u=(0,r.Z)(l,2),v=u[0],g=u[1];return(0,d.jsxs)("div",{className:"dark:bg-gray-600 bg-white dark:text-white LineTime",children:[(0,d.jsx)(f.Z,{className:"_back_",url:"/user/dashboard"}),(0,d.jsx)(i.h4,{title:"Etapas de mi art\xedculo"}),(0,d.jsx)("div",{className:"cnt_steps bg-slate-100 dark:bg-gray-500",children:(0,d.jsx)(p,{estatus:null===n||void 0===n?void 0:n.estatus})}),(0,d.jsxs)("div",{className:"description_s",children:[(0,d.jsx)("h1",{className:"title_descrip",children:null===n||void 0===n?void 0:n.name}),(0,d.jsxs)("h2",{children:[(0,d.jsx)("span",{style:{fontSize:"18px",fontWeight:"bold"},children:"Autor(es):"})," ",(0,d.jsxs)("span",{style:{fontSize:"18px"},children:[v?(null===n||void 0===n?void 0:n.autor)+", ":null===n||void 0===n?void 0:n.autor," ",v?v.map((function(e,t){return(0,d.jsx)(d.Fragment,{children:t==v.length-1?e:e+", "})})):""]})]}),(0,d.jsxs)("div",{className:"block_descrip",children:[(0,d.jsx)("h2",{children:"Resumen"}),(0,d.jsx)("div",{dangerouslySetInnerHTML:{__html:null===n||void 0===n?void 0:n.resume}})]})]})]})}},42480:function(){}}]);
//# sourceMappingURL=918.d4324c38.chunk.js.map