"use strict";(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[454],{454:function(e,t,a){a.r(t),a.d(t,{default:function(){return P}});var n=a(1413),l=a(4942),r=a(93433),c=a(29439),i=a(72791),o=(a(40934),a(12653)),s=a(22664),u=a(66571),m=a(38246),d=a(29355),p=a(39304),f=a(53439),v=a(57689),h=a(74165),b=a(15861),x=a(31243),y=function(){var e=(0,b.Z)((0,h.Z)().mark((function e(t,a,n){var l,r;return(0,h.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l={dataArticle:{name:t.name.value,autor:t.autor.value,estatus:0,resume:t.resume.value,interesConflict:t.interesConflict.value,reference:t.reference.value,stakingInputData:a}},(r=new FormData).append("files.word",t.word.value),r.append("data",JSON.stringify(l)),e.next=6,x.Z.post("".concat("https://api.revistatemachtiani.net","/api/articles"),r).then((function(){(0,f.Wi)("Articulo subido")})).catch((function(e){console.log(e),(0,f.zR)("Fallo al subir articulo")}));case 6:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),N=a(42062),g=a(95854);function j(){return j=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},j.apply(this,arguments)}function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function C(e){var t=function(e,t){if("object"!==E(e)||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==E(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===E(t)?t:String(t)}function S(e,t,a){return(t=C(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var T={defaultProps:{__TYPE:"Editor",id:null,value:null,style:null,className:null,placeholder:null,readOnly:!1,modules:null,formats:null,theme:"snow",showHeader:!0,headerTemplate:null,onTextChange:null,onSelectionChange:null,onLoad:null,maxLength:null,children:void 0},getProps:function(e){return g.gb.getMergedProps(e,T.defaultProps)},getOtherProps:function(e){return g.gb.getDiffProps(e,T.defaultProps)}};function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function A(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var I=function(){try{return Quill}catch(e){return null}}(),Z=i.memo(i.forwardRef((function(e,t){var n=T.getProps(e),l=i.useRef(null),r=i.useRef(null),c=i.useRef(null),o=i.useRef(null),s=i.useRef(!1);(0,N.nw)((function(){if(!s.current){var e={modules:A({toolbar:!!n.showHeader&&c.current},n.modules),placeholder:n.placeholder,readOnly:n.readOnly,theme:n.theme,formats:n.formats};I?(o.current=new Quill(r.current,e),u(),o.current&&o.current.getModule("toolbar")&&n.onLoad&&n.onLoad(o.current)):a.e(921).then(a.t.bind(a,96921,23)).then((function(t){t&&g.p7.isExist(r.current)&&(t.default?o.current=new t.default(r.current,e):o.current=new t(r.current,e),u())})).then((function(){o.current&&o.current.getModule("toolbar")&&n.onLoad&&n.onLoad(o.current)})),s.current=!0}}));var u=function(){n.value&&o.current.setContents(o.current.clipboard.convert(n.value)),o.current.on("text-change",(function(e,t,a){var l=r.current.children[0],c=l?l.innerHTML:null,i=o.current.getText();if("<p><br></p>"===c&&(c=null),"api"===a){var s=r.current.children[0],u=document.createElement("div");if(u.innerHTML=n.value||"",g.p7.isEqualElement(s,u))return}if(n.maxLength){var m=o.current.getLength();m>n.maxLength&&o.current.deleteText(n.maxLength,m)}n.onTextChange&&n.onTextChange({htmlValue:c,textValue:i,delta:e,source:a})})),o.current.on("selection-change",(function(e,t,a){n.onSelectionChange&&n.onSelectionChange({range:e,oldRange:t,source:a})}))};(0,N.rf)((function(){o.current&&!o.current.hasFocus()&&(n.value?o.current.setContents(o.current.clipboard.convert(n.value)):o.current.setText(""))}),[n.value]),i.useImperativeHandle(t,(function(){return{props:n,getQuill:function(){return o.current},getElement:function(){return l.current},getContent:function(){return r.current},getToolbar:function(){return c.current}}}));var m=T.getOtherProps(n),d=(0,g.AK)("p-component p-editor-container",n.className),p=!1===n.showHeader?null:n.headerTemplate?i.createElement("div",{ref:c,className:"p-editor-toolbar"},n.headerTemplate):i.createElement("div",{ref:c,className:"p-editor-toolbar"},i.createElement("span",{className:"ql-formats"},i.createElement("select",{className:"ql-header",defaultValue:"0"},i.createElement("option",{value:"1"},"Heading"),i.createElement("option",{value:"2"},"Subheading"),i.createElement("option",{value:"0"},"Normal")),i.createElement("select",{className:"ql-font"},i.createElement("option",null),i.createElement("option",{value:"serif"}),i.createElement("option",{value:"monospace"}))),i.createElement("span",{className:"ql-formats"},i.createElement("button",{type:"button",className:"ql-bold","aria-label":"Bold"}),i.createElement("button",{type:"button",className:"ql-italic","aria-label":"Italic"}),i.createElement("button",{type:"button",className:"ql-underline","aria-label":"Underline"})),i.createElement("span",{className:"ql-formats"},i.createElement("select",{className:"ql-color"}),i.createElement("select",{className:"ql-background"})),i.createElement("span",{className:"ql-formats"},i.createElement("button",{type:"button",className:"ql-list",value:"ordered","aria-label":"Ordered List"}),i.createElement("button",{type:"button",className:"ql-list",value:"bullet","aria-label":"Unordered List"}),i.createElement("select",{className:"ql-align"},i.createElement("option",{defaultValue:!0}),i.createElement("option",{value:"center"}),i.createElement("option",{value:"right"}),i.createElement("option",{value:"justify"}))),i.createElement("span",{className:"ql-formats"},i.createElement("button",{type:"button",className:"ql-link","aria-label":"Insert Link"}),i.createElement("button",{type:"button",className:"ql-image","aria-label":"Insert Image"}),i.createElement("button",{type:"button",className:"ql-code-block","aria-label":"Insert Code Block"})),i.createElement("span",{className:"ql-formats"},i.createElement("button",{type:"button",className:"ql-clean","aria-label":"Remove Styles"}))),f=i.createElement("div",{ref:r,className:"p-editor-content",style:n.style});return i.createElement("div",j({id:n.id,ref:l,className:d},m),p,f)})));Z.displayName="Editor";var w=a(80184),P=function(){var e=(0,i.useState)(null),t=(0,c.Z)(e,2),a=t[0],h=t[1],b=(0,i.useState)(""),x=(0,c.Z)(b,2),N=(x[0],x[1],(0,i.useState)(0)),g=(0,c.Z)(N,2),j=g[0],E=(g[1],(0,v.s0)()),C=(0,i.useState)({word:{value:null,validationType:"empty"},autor:{value:null,validationType:"empty"},name:{value:null,validationType:"empty"},resume:{value:null,validationType:"empty"},idiom:{value:null,validationType:"empty"},claveWord:{value:null,validationType:"empty"},interesConflict:{value:null,interesConflict:"empty"},reference:{value:null,interesConflict:"empty"}}),S=(0,c.Z)(C,2),T=S[0],O=S[1],A=(0,i.useState)(-1),I=(0,c.Z)(A,2),P=I[0],q=I[1],k=(0,i.useState)([]),R=(0,c.Z)(k,2),L=R[0],W=R[1];(0,i.useEffect)((function(){L.map((function(e,t){for(var a in e)document.getElementById(a)&&(0,p.yt)(a,e)}))}),[L]);var D=(0,i.useState)(null),V=(0,c.Z)(D,2),H=V[0],M=V[1],z=(0,i.useState)(null),F=(0,c.Z)(z,2),Q=F[0],_=F[1],B=(0,i.useState)(null),U=(0,c.Z)(B,2),J=U[0],K=U[1],Y=(0,i.useState)({textAreaResumeW:!1,textAreaInteresConflictW:!1,textAreaReferenceW:!1}),G=(0,c.Z)(Y,2),X=G[0],$=G[1];(0,i.useEffect)((function(){if(H){var e=(0,n.Z)({},X);e.textAreaResumeW=!0,$(e)}if(Q){var t=(0,n.Z)({},X);t.textAreaInteresConflictW=!0,$(t)}if(J){var a=(0,n.Z)({},X);a.textAreaReferenceW=!0,$(a)}if(1==X.textAreaResumeW&&null==H){var l=(0,n.Z)({},T);l.resume.value="",O(l)}if(1==X.textAreaInteresConflictW&&null==Q){var r=(0,n.Z)({},T);r.interesConflict.value="",O(r)}if(1==X.textAreaReferenceW&&null==J){var c=(0,n.Z)({},T);c.reference.value="",O(c)}for(var i in T)document.getElementById(i)&&(0,p.yt)(i,T)}),[T]),(0,i.useEffect)((function(){var e=(0,n.Z)({},T);e.resume.value=H,e.interesConflict.value=Q,e.reference.value=J,O(e),console.log("textAreaResume",H)}),[H,Q,J]),(0,i.useEffect)((function(){var e=(0,n.Z)({},T);e.word.value=a,O(e)}),[a]);var ee=[{name:"M\xe9xico",value:"M\xe9xico"},{name:"Cuba",value:"Cuba"},{name:"Canada",value:"Canada"}];return(0,w.jsx)(w.Fragment,{children:(0,w.jsx)("div",{className:"CreateArticle",children:(0,w.jsxs)(o.Z,{children:[(0,w.jsx)(s.Z,{className:"_back_",url:"/article/dashboard"}),(0,w.jsx)(u.h4,{title:"Nuevo articulo",button:"Enviar articulo",onClick:function(){(0,p.DD)(T,O)?(0,p.rQ)(L,W)?y(T,L,E):(0,f.zR)("\xa1Ingrese todos los campos requeridos!"):(0,f.zR)("\xa1Ingrese todos los datos del autor!")}}),(0,w.jsxs)(m.Z,{className:"cardInteriorCreateArticle",children:[(0,w.jsxs)("div",{className:"grid-patern-CreateArticle",children:[(0,w.jsx)("div",{className:"col1",children:(0,w.jsxs)("div",{children:[(0,w.jsx)(d.Z,{id:"word",setValue:h}),(0,w.jsx)("div",{className:"wordName",children:null===a||void 0===a?void 0:a.name})]})}),(0,w.jsxs)("div",{className:"col3",children:[(0,w.jsx)(u.II,{title:"Nombre del art\xedculo",placeholder:"Nombre del art\xedculo",className:"inputArticleName",id:"name",onChange:function(e){(0,p.yS)(e,"name",T,O)}}),(0,w.jsx)(u.II,{title:"Nombre del autor",placeholder:"Nombre del autor",className:"inputArticleName",id:"autor",onChange:function(e){(0,p.yS)(e,"autor",T,O)}})]}),(0,w.jsx)("div",{className:"col4",children:(0,w.jsxs)("div",{className:"textArea-createArticle",children:[(0,w.jsxs)("div",{className:"minititle",children:[(0,w.jsx)("div",{children:"Resumen"}),(0,w.jsxs)("div",{children:[j,"/500"]})]}),(0,w.jsx)(Z,{className:"editor",value:H,id:"resume",onTextChange:function(e){M(e.htmlValue)},style:{height:"300px"}})]})})]}),(0,w.jsxs)("div",{className:"extra-parent",children:[(0,w.jsxs)("div",{className:"cole1",children:[(0,w.jsx)(u.Ph,{title:"Idioma",options:[{name:"Espa\xf1ol",value:"es"},{name:"Ingles",value:"en"},{name:"Nauatl",value:"nu"}],value:T.idiom.value,placeholder:"Nombre del art\xedculo",className:"selectSize",id:"idiom",onChange:function(e){(0,p.yS)(e,"idiom",T,O)}}),(0,w.jsx)(u.II,{title:"Palabra clave",placeholder:"Palabra clave",className:"inputArticleName",id:"claveWord",onChange:function(e){(0,p.yS)(e,"claveWord",T,O)}})]}),(0,w.jsx)("div",{className:"cole2",children:(0,w.jsxs)("div",{className:"textArea-createArticle",children:[(0,w.jsx)("div",{className:"minititle",children:(0,w.jsx)("div",{children:"Conflicto de inter\xe9s"})}),(0,w.jsx)(Z,{className:"editor",value:Q,id:"interesConflict",onTextChange:function(e){_(e.htmlValue)},style:{height:"80px"}})]})})]}),(0,w.jsxs)("div",{className:"parent-editor",children:[(0,w.jsx)("div",{className:"colE1",children:(0,w.jsx)(u.zx,{className:"buttonStaking btn_primary",title:"A\xf1adir nuevo autor",onClick:function(){return function(){if((0,p.rQ)(L,W)){var e,t=P;t+=1;var a=(0,r.Z)(L);a.push((e={},(0,l.Z)(e,"nameStaking".concat(t),{value:null,validationType:"empty"}),(0,l.Z)(e,"lastName".concat(t),{value:null,validationType:"empty"}),(0,l.Z)(e,"Orcid".concat(t),{value:null,validationType:"empty"}),(0,l.Z)(e,"Titulo".concat(t),{value:null,validationType:"empty"}),(0,l.Z)(e,"Email".concat(t),{value:null,validationType:"empty"}),(0,l.Z)(e,"pais".concat(t),{value:null,validationType:"empty"}),e)),W(a),q(t)}}()}})}),(0,w.jsx)("div",{className:"colE2",children:(0,w.jsxs)("div",{className:"textArea-createArticle",style:{marginTop:"30px"},children:[(0,w.jsx)("div",{className:"minititle",children:(0,w.jsx)("div",{children:"Referencias"})}),(0,w.jsx)(Z,{value:J,className:"editor",id:"reference",onTextChange:function(e){K(e.htmlValue)},style:{height:"150px"}})]})})]}),L.map((function(e,t){return(0,w.jsxs)(w.Fragment,{children:[(0,w.jsxs)("div",{className:"staking-parent",children:[(0,w.jsx)("div",{className:"cols1",children:(0,w.jsx)(u.II,{title:"nombre",placeholder:"nombre",className:"inputArticleName",id:"nameStaking".concat(t),onChange:function(e){(0,p.f2)(e,"nameStaking".concat(t),t,L,W)}})}),(0,w.jsx)("div",{className:"cols2",children:(0,w.jsx)(u.II,{title:"Apellido",placeholder:"Apellido",className:"inputArticleName",id:"lastName".concat(t),onChange:function(e){(0,p.f2)(e,"lastName".concat(t),t,L,W)}})}),(0,w.jsx)("div",{className:"cols3",children:(0,w.jsx)(u.II,{title:"Orcid",placeholder:"Orcid",className:"inputArticleName",id:"Orcid".concat(t),onChange:function(e){(0,p.f2)(e,"Orcid".concat(t),t,L,W)}})}),(0,w.jsx)("div",{className:"cols4",children:(0,w.jsx)(u.II,{title:"Titulo",placeholder:"Titulo",className:"inputArticleName",id:"Titulo".concat(t),onChange:function(e){(0,p.f2)(e,"Titulo".concat(t),t,L,W)}})}),(0,w.jsx)("div",{className:"cols5",children:(0,w.jsx)(u.II,{title:"Email",placeholder:"Email",className:"inputArticleName",id:"Email".concat(t),onChange:function(e){(0,p.f2)(e,"Email".concat(t),t,L,W)}})}),(0,w.jsx)("div",{className:"cols6",children:(0,w.jsx)(u.Ph,{title:"Pa\xeds",value:e["pais".concat(t)].value,options:ee,placeholder:"Pa\xeds",className:"selectSize",id:"pais".concat(t),onChange:function(e){(0,p.f2)(e,"pais".concat(t),t,L,W)}})})]}),(0,w.jsx)("hr",{className:"hrstaking"})]})}))]})]})})})}}}]);
//# sourceMappingURL=454.7f9c1e1f.chunk.js.map