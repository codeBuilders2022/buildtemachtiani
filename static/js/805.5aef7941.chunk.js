(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[805],{30459:function(e,t,n){"use strict";n.d(t,{Hk:function(){return c},TK:function(){return o},i6:function(){return i}});var a=n(74165),r=n(15861),l=n(31243),c=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,l.Z.post("".concat("https://api.revistatemachtiani.net").concat(t),n);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,l.Z.post("".concat("https://api.revistatemachtiani.net").concat(t),n);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://restcountries.com/v3.1/all",t=[],n=[],e.prev=3,e.next=6,l.Z.get("https://restcountries.com/v3.1/all");case 6:return r=e.sent,r.data.map((function(e,n){var a=e.translations.spa.common;t.push(a)})),t.sort((function(e,t){return e.localeCompare(t)})),t.map((function(e,t){var a={name:e,value:e};n.push(a)})),e.abrupt("return",n);case 14:return e.prev=14,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},96282:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return q}});var a=n(74165),r=n(15861),l=n(1413),c=n(4942),i=n(93433),o=n(29439),u=n(72791),s=(n(56049),n(12653)),m=n(22664),d=n(66571),p=n(38246),f=n(29355),v=n(39304),h=n(53439),y=n(57689),b=n(31243),g=n(35407),x=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r,l){var c,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=(0,g.o)(l),i={dataArticle:{name:t.name.value,autor:t.autor.value,estatus:0,idiom:t.idiom.value,country:t.country.value,resume:t.resume.value,interesConflict:t.interesConflict.value,reference:t.reference.value,claveWord:t.claveWord.value,idUser:c,stakingInputData:n},idUser:c},(o=new FormData).append("files.word",t.word.value),o.append("data",JSON.stringify(i)),e.next=7,b.Z.post("".concat("https://api.revistatemachtiani.net","/api/articles"),o).then((function(){(0,h.Wi)("Articulo subido"),r("/user/dashboard/".concat(l))})).catch((function(e){(0,h.zR)("Fallo al subir articulo")}));case 7:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),N=n(42062),j=n(95854);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function C(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==Z(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}function S(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={defaultProps:{__TYPE:"Editor",id:null,value:null,style:null,className:null,placeholder:null,readOnly:!1,modules:null,formats:null,theme:"snow",showHeader:!0,headerTemplate:null,onTextChange:null,onSelectionChange:null,onLoad:null,maxLength:null,children:void 0},getProps:function(e){return j.gb.getMergedProps(e,w.defaultProps)},getOtherProps:function(e){return j.gb.getDiffProps(e,w.defaultProps)}};function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){try{return Quill}catch(e){return null}}(),I=u.memo(u.forwardRef((function(e,t){var a=w.getProps(e),r=u.useRef(null),l=u.useRef(null),c=u.useRef(null),i=u.useRef(null),o=u.useRef(!1);(0,N.nw)((function(){if(!o.current){var e={modules:O({toolbar:!!a.showHeader&&c.current},a.modules),placeholder:a.placeholder,readOnly:a.readOnly,theme:a.theme,formats:a.formats};A?(i.current=new Quill(l.current,e),s(),i.current&&i.current.getModule("toolbar")&&a.onLoad&&a.onLoad(i.current)):n.e(921).then(n.t.bind(n,96921,23)).then((function(t){t&&j.p7.isExist(l.current)&&(t.default?i.current=new t.default(l.current,e):i.current=new t(l.current,e),s())})).then((function(){i.current&&i.current.getModule("toolbar")&&a.onLoad&&a.onLoad(i.current)})),o.current=!0}}));var s=function(){a.value&&i.current.setContents(i.current.clipboard.convert(a.value)),i.current.on("text-change",(function(e,t,n){var r=l.current.children[0],c=r?r.innerHTML:null,o=i.current.getText();if("<p><br></p>"===c&&(c=null),"api"===n){var u=l.current.children[0],s=document.createElement("div");if(s.innerHTML=a.value||"",j.p7.isEqualElement(u,s))return}if(a.maxLength){var m=i.current.getLength();m>a.maxLength&&i.current.deleteText(a.maxLength,m)}a.onTextChange&&a.onTextChange({htmlValue:c,textValue:o,delta:e,source:n})})),i.current.on("selection-change",(function(e,t,n){a.onSelectionChange&&a.onSelectionChange({range:e,oldRange:t,source:n})}))};(0,N.rf)((function(){i.current&&!i.current.hasFocus()&&(a.value?i.current.setContents(i.current.clipboard.convert(a.value)):i.current.setText(""))}),[a.value]),u.useImperativeHandle(t,(function(){return{props:a,getQuill:function(){return i.current},getElement:function(){return r.current},getContent:function(){return l.current},getToolbar:function(){return c.current}}}));var m=w.getOtherProps(a),d=(0,j.AK)("p-component p-editor-container",a.className),p=!1===a.showHeader?null:a.headerTemplate?u.createElement("div",{ref:c,className:"p-editor-toolbar"},a.headerTemplate):u.createElement("div",{ref:c,className:"p-editor-toolbar"},u.createElement("span",{className:"ql-formats"},u.createElement("select",{className:"ql-header",defaultValue:"0"},u.createElement("option",{value:"1"},"Heading"),u.createElement("option",{value:"2"},"Subheading"),u.createElement("option",{value:"0"},"Normal")),u.createElement("select",{className:"ql-font"},u.createElement("option",null),u.createElement("option",{value:"serif"}),u.createElement("option",{value:"monospace"}))),u.createElement("span",{className:"ql-formats"},u.createElement("button",{type:"button",className:"ql-bold","aria-label":"Bold"}),u.createElement("button",{type:"button",className:"ql-italic","aria-label":"Italic"}),u.createElement("button",{type:"button",className:"ql-underline","aria-label":"Underline"})),u.createElement("span",{className:"ql-formats"},u.createElement("select",{className:"ql-color"}),u.createElement("select",{className:"ql-background"})),u.createElement("span",{className:"ql-formats"},u.createElement("button",{type:"button",className:"ql-list",value:"ordered","aria-label":"Ordered List"}),u.createElement("button",{type:"button",className:"ql-list",value:"bullet","aria-label":"Unordered List"}),u.createElement("select",{className:"ql-align"},u.createElement("option",{defaultValue:!0}),u.createElement("option",{value:"center"}),u.createElement("option",{value:"right"}),u.createElement("option",{value:"justify"}))),u.createElement("span",{className:"ql-formats"},u.createElement("button",{type:"button",className:"ql-link","aria-label":"Insert Link"}),u.createElement("button",{type:"button",className:"ql-image","aria-label":"Insert Image"}),u.createElement("button",{type:"button",className:"ql-code-block","aria-label":"Insert Code Block"})),u.createElement("span",{className:"ql-formats"},u.createElement("button",{type:"button",className:"ql-clean","aria-label":"Remove Styles"}))),f=u.createElement("div",{ref:l,className:"p-editor-content",style:a.style});return u.createElement("div",E({id:a.id,ref:r,className:d},m),p,f)})));I.displayName="Editor";var P=n(30459),k=n(80184),q=function(){var e=(0,u.useState)(null),t=(0,o.Z)(e,2),n=t[0],b=t[1],g=(0,u.useState)([]),N=(0,o.Z)(g,2),j=N[0],E=N[1],Z=(0,u.useState)(""),C=(0,o.Z)(Z,2),S=(C[0],C[1],(0,y.UO)().idUser),w=(0,u.useState)(0),T=(0,o.Z)(w,2),O=T[0],A=T[1],q=(0,y.s0)(),R=(0,u.useState)({word:{value:null,validationType:"empty"},autor:{value:null,validationType:"empty"},name:{value:null,validationType:"empty"},resume:{value:null,validationType:"empty"},idiom:{value:null,validationType:"empty"},country:{value:null,validationType:"empty"},claveWord:{value:null,validationType:"empty"},interesConflict:{value:null,interesConflict:"empty"},reference:{value:null,interesConflict:"empty"}}),L=(0,o.Z)(R,2),D=L[0],W=L[1],_=(0,u.useState)(-1),H=(0,o.Z)(_,2),V=H[0],z=H[1],F=(0,u.useState)([]),U=(0,o.Z)(F,2),M=U[0],Q=U[1];(0,u.useEffect)((function(){M.map((function(e,t){for(var n in e)document.getElementById(n)&&(0,v.yt)(n,e)}))}),[M]);var B=(0,u.useState)(null),K=(0,o.Z)(B,2),J=K[0],Y=K[1],G=(0,u.useState)(null),X=(0,o.Z)(G,2),$=X[0],ee=X[1],te=(0,u.useState)(null),ne=(0,o.Z)(te,2),ae=ne[0],re=ne[1],le=(0,u.useState)({textAreaResumeW:!1,textAreaInteresConflictW:!1,textAreaReferenceW:!1}),ce=(0,o.Z)(le,2),ie=ce[0],oe=ce[1];(0,u.useEffect)((function(){if(J){var e=(0,l.Z)({},ie);e.textAreaResumeW=!0,oe(e)}if($){var t=(0,l.Z)({},ie);t.textAreaInteresConflictW=!0,oe(t)}if(ae){var n=(0,l.Z)({},ie);n.textAreaReferenceW=!0,oe(n)}if(1==ie.textAreaResumeW&&null==J){var a=(0,l.Z)({},D);a.resume.value="",W(a)}if(1==ie.textAreaInteresConflictW&&null==$){var r=(0,l.Z)({},D);r.interesConflict.value="",W(r)}if(1==ie.textAreaReferenceW&&null==ae){var c=(0,l.Z)({},D);c.reference.value="",W(c)}for(var i in D)document.getElementById(i)&&(0,v.yt)(i,D)}),[D]),(0,u.useEffect)((function(){var e=(0,l.Z)({},D);e.resume.value=J,e.interesConflict.value=$,e.reference.value=ae,W(e)}),[J,$,ae]),(0,u.useEffect)((function(){var e=(0,l.Z)({},D);e.word.value=n,W(e)}),[n]);var ue=(0,u.useState)(!0),se=(0,o.Z)(ue,2),me=se[0],de=se[1];(0,u.useEffect)((function(){pe()}),[]);var pe=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,P.TK)();case 3:t=e.sent,E(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,h.zR)("\xa1Algo sali\xf3 mal, intentalo m\xe1s tarde!",!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,k.jsx)(k.Fragment,{children:(0,k.jsx)("div",{className:"CreateArticle",children:(0,k.jsxs)(s.Z,{children:[(0,k.jsx)(m.Z,{className:"_back_",url:"/user/dashboard/".concat(S)}),(0,k.jsx)(d.h4,{title:"Nuevo articulo",button:"Enviar articulo",onClick:function(){(0,v.DD)(D,W)?(0,v.rQ)(M,Q)?x(D,M,q,S):(0,h.zR)("\xa1Ingrese todos los campos requeridos!"):(0,h.zR)("\xa1Ingrese todos los datos del autor!")}}),(0,k.jsxs)(p.Z,{className:"cardInteriorCreateArticle",children:[(0,k.jsxs)("div",{className:"grid-patern-CreateArticle",children:[(0,k.jsxs)("div",{style:{marginBottom:25},children:[(0,k.jsx)(f.Z,{id:"word",setValue:b}),(0,k.jsx)("div",{className:"wordName",children:null===n||void 0===n?void 0:n.name})]}),(0,k.jsx)(d.II,{title:"T\xedtulo del art\xedculo",placeholder:"T\xedtulo del art\xedculo",className:"inputArticleName",id:"name",onChange:function(e){(0,v.yS)(e,"name",D,W)}}),(0,k.jsx)(d.II,{title:"Nombre del autor",placeholder:"Nombre del autor",className:"inputArticleName",id:"autor",onChange:function(e){(0,v.yS)(e,"autor",D,W)}}),(0,k.jsx)(d.Ph,{title:"Idioma",options:[{name:"Espa\xf1ol",value:"Espa\xf1ol"},{name:"Ingles",value:"Ingles"},{name:"N\xe1huatl",value:"N\xe1huatl"}],value:D.idiom.value,placeholder:"Seleccione el idioma del art\xedculo",className:"selectSize",id:"idiom",onChange:function(e){(0,v.yS)(e,"idiom",D,W)}}),(0,k.jsx)(d.Ph,{title:"Pa\xeds",options:j,value:D.country.value,placeholder:"Seleccione un pa\xeds",className:"selectSize",id:"country",onChange:function(e){(0,v.yS)(e,"country",D,W)}}),(0,k.jsx)(d.II,{title:"Palabra clave",placeholder:"Palabra clave",className:"inputArticleName",id:"claveWord",onChange:function(e){(0,v.yS)(e,"claveWord",D,W)}}),M.map((function(e,t){return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"staking-parent",children:[(0,k.jsxs)("div",{className:"statk_in",children:[(0,k.jsx)(d.II,{title:"Nombre",placeholder:"Nombre",className:"inputArticleName",id:"nameStaking".concat(t),onChange:function(e){(0,v.f2)(e,"nameStaking".concat(t),t,M,Q)}}),(0,k.jsx)(d.II,{title:"Apellido",placeholder:"Apellido",className:"inputArticleName",id:"lastName".concat(t),onChange:function(e){(0,v.f2)(e,"lastName".concat(t),t,M,Q)}})]}),(0,k.jsxs)("div",{className:"statk_in",children:[(0,k.jsx)(d.II,{title:"Orcid",placeholder:"Orcid",className:"inputArticleName",id:"Orcid".concat(t),onChange:function(e){(0,v.f2)(e,"Orcid".concat(t),t,M,Q)}}),(0,k.jsx)(d.II,{title:"Titulo",placeholder:"Titulo",className:"inputArticleName",id:"Titulo".concat(t),onChange:function(e){(0,v.f2)(e,"Titulo".concat(t),t,M,Q)}})]}),(0,k.jsxs)("div",{className:"statk_in",children:[(0,k.jsx)(d.II,{title:"Email",placeholder:"Email",className:"inputArticleName",id:"Email".concat(t),onChange:function(e){(0,v.f2)(e,"Email".concat(t),t,M,Q)}}),(0,k.jsx)(d.Ph,{title:"Pa\xeds",value:e["pais".concat(t)].value,options:j,placeholder:"Pa\xeds",className:"selectSize",id:"pais".concat(t),onChange:function(e){(0,v.f2)(e,"pais".concat(t),t,M,Q)}})]}),(0,k.jsx)("div",{className:"Line_line"})]}),(0,k.jsx)("hr",{className:"hrstaking"})]})})),(0,k.jsx)("div",{className:"new_inputs",children:(0,k.jsx)(d.zx,{className:"buttonStaking btn_primary",title:"A\xf1adir nuevo autor",onClick:function(){return function(){if((0,v.rQ)(M,Q)){var e,t=V;t+=1;var n=(0,i.Z)(M);n.push((e={},(0,c.Z)(e,"nameStaking".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"lastName".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"Orcid".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"Titulo".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"Email".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"pais".concat(t),{value:null,validationType:"empty"}),e)),Q(n),z(t)}}()}})})]}),(0,k.jsxs)("div",{className:"entry_left",children:[(0,k.jsxs)("div",{className:"textArea-createArticle",children:[(0,k.jsxs)("div",{className:"minititle",children:[(0,k.jsx)("div",{children:"Resumen"}),(0,k.jsxs)("div",{children:[O,"/500"]})]}),(0,k.jsx)(I,{onPaste:function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("text"),n=e.htmlValue||"",a=t.trim().split(/\s+/),r=n.trim().split(/\s+/).length+a.length,l=500-r;if(!(r>500))if(l<0){var c=a.slice(0,Math.abs(l)).join(" ");Y(n+" "+c),A(500)}else{Y(n+" "+t),A(r)}},onKeyPress:function(e){me||e.preventDefault()},readOnly:!me,className:"editor",value:J,id:"resume",onTextChange:function(e){var t=e.htmlValue,n="";null!=t?n=t.trim().split(/\s+/):Y("");var a=n.length;if(a>500){var r=n.slice(0,500).join(" ");Y(r),de(!1)}else de(!0),A(a),Y(t)},style:{height:"300px"}})]}),(0,k.jsxs)("div",{className:"textArea-createArticle",children:[(0,k.jsx)("div",{className:"minititle",children:(0,k.jsx)("div",{children:"Conflicto de inter\xe9s"})}),(0,k.jsx)(I,{className:"editor",value:$,id:"interesConflict",onTextChange:function(e){ee(e.htmlValue)},style:{height:"150px"}})]}),(0,k.jsxs)("div",{className:"textArea-createArticle",children:[(0,k.jsx)("div",{className:"minititle",children:(0,k.jsx)("div",{children:"Referencias"})}),(0,k.jsx)(I,{value:ae,className:"editor",id:"reference",onTextChange:function(e){re(e.htmlValue)},style:{height:"150px"}})]})]})]})]})})})}},35407:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},o:function(){return i}});var a=n(89704),r=n.n(a),l="C4CF1629D81577CF",c=function(e){var t=r().AES.encrypt(e.toString(),l).toString();return t=t.replace(/\//g,"_")},i=function(e){var t=e.replace(/_/g,"/");return r().AES.decrypt(t,l,{iv:r().enc.Hex.parse("a0d5ebe6a0d5ebe6a0d5ebe6a0d5ebe6")}).toString(r().enc.Utf8)}},42480:function(){}}]);
//# sourceMappingURL=805.5aef7941.chunk.js.map