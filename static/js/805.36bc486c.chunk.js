(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[805],{30459:function(e,t,n){"use strict";n.d(t,{Hk:function(){return c},TK:function(){return o},i6:function(){return i}});var a=n(74165),r=n(15861),l=n(31243),c=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,l.Z.post("".concat("https://api.revistatemachtiani.net").concat(t),n);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n){var r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,l.Z.post("".concat("https://api.revistatemachtiani.net").concat(t),n);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t,n,r;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://restcountries.com/v3.1/all",t=[],n=[],e.prev=3,e.next=6,l.Z.get("https://restcountries.com/v3.1/all");case 6:return r=e.sent,r.data.map((function(e,n){var a=e.translations.spa.common;t.push(a)})),t.sort((function(e,t){return e.localeCompare(t)})),t.map((function(e,t){var a={name:e,value:e};n.push(a)})),e.abrupt("return",n);case 14:return e.prev=14,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},59243:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});n(72791);var a=n(80184),r=function(e){var t=e.className;return(0,a.jsx)("div",{className:"cnt_loading ".concat(t),children:(0,a.jsx)("div",{className:"AnimationLoading"})})}},96282:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return L}});var a=n(74165),r=n(15861),l=n(1413),c=n(4942),i=n(93433),o=n(29439),s=n(72791),u=(n(56049),n(12653)),m=n(22664),d=n(66571),p=n(38246),v=n(29355),f=n(39304),h=n(49813),y=n(57689),b=n(31243),g=n(35407),x=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(t,n,r,l){var c,i,o;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c=(0,g.o)(l),i={dataArticle:{name:t.name.value,autor:t.autor.value,estatus:0,idiom:t.idiom.value,country:t.country.value,resume:t.resume.value,interesConflict:t.interesConflict.value,reference:t.reference.value,claveWord:t.claveWord.value,idUser:c,stakingInputData:n},idUser:c},(o=new FormData).append("files.word",t.word.value),o.append("data",JSON.stringify(i)),e.next=8,b.Z.post("".concat("https://api.revistatemachtiani.net","/api/articles"),o);case 8:return e.sent,e.abrupt("return",{status:200,userId:l});case 12:e.prev=12,e.t0=e.catch(0),(0,h.zR)("Fallo al subir articulo");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t,n,a,r){return e.apply(this,arguments)}}(),N=n(42062),j=n(95854);function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},E.apply(this,arguments)}function Z(e){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z(e)}function S(e){var t=function(e,t){if("object"!==Z(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!==Z(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Z(t)?t:String(t)}function C(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var w={defaultProps:{__TYPE:"Editor",id:null,value:null,style:null,className:null,placeholder:null,readOnly:!1,modules:null,formats:null,theme:"snow",showHeader:!0,headerTemplate:null,onTextChange:null,onSelectionChange:null,onLoad:null,maxLength:null,children:void 0},getProps:function(e){return j.gb.getMergedProps(e,w.defaultProps)},getOtherProps:function(e){return j.gb.getDiffProps(e,w.defaultProps)}};function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){C(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=function(){try{return Quill}catch(e){return null}}(),O=s.memo(s.forwardRef((function(e,t){var a=w.getProps(e),r=s.useRef(null),l=s.useRef(null),c=s.useRef(null),i=s.useRef(null),o=s.useRef(!1);(0,N.nw)((function(){if(!o.current){var e={modules:k({toolbar:!!a.showHeader&&c.current},a.modules),placeholder:a.placeholder,readOnly:a.readOnly,theme:a.theme,formats:a.formats};A?(i.current=new Quill(l.current,e),u(),i.current&&i.current.getModule("toolbar")&&a.onLoad&&a.onLoad(i.current)):n.e(921).then(n.t.bind(n,96921,23)).then((function(t){t&&j.p7.isExist(l.current)&&(t.default?i.current=new t.default(l.current,e):i.current=new t(l.current,e),u())})).then((function(){i.current&&i.current.getModule("toolbar")&&a.onLoad&&a.onLoad(i.current)})),o.current=!0}}));var u=function(){a.value&&i.current.setContents(i.current.clipboard.convert(a.value)),i.current.on("text-change",(function(e,t,n){var r=l.current.children[0],c=r?r.innerHTML:null,o=i.current.getText();if("<p><br></p>"===c&&(c=null),"api"===n){var s=l.current.children[0],u=document.createElement("div");if(u.innerHTML=a.value||"",j.p7.isEqualElement(s,u))return}if(a.maxLength){var m=i.current.getLength();m>a.maxLength&&i.current.deleteText(a.maxLength,m)}a.onTextChange&&a.onTextChange({htmlValue:c,textValue:o,delta:e,source:n})})),i.current.on("selection-change",(function(e,t,n){a.onSelectionChange&&a.onSelectionChange({range:e,oldRange:t,source:n})}))};(0,N.rf)((function(){i.current&&!i.current.hasFocus()&&(a.value?i.current.setContents(i.current.clipboard.convert(a.value)):i.current.setText(""))}),[a.value]),s.useImperativeHandle(t,(function(){return{props:a,getQuill:function(){return i.current},getElement:function(){return r.current},getContent:function(){return l.current},getToolbar:function(){return c.current}}}));var m=w.getOtherProps(a),d=(0,j.AK)("p-component p-editor-container",a.className),p=!1===a.showHeader?null:a.headerTemplate?s.createElement("div",{ref:c,className:"p-editor-toolbar"},a.headerTemplate):s.createElement("div",{ref:c,className:"p-editor-toolbar"},s.createElement("span",{className:"ql-formats"},s.createElement("select",{className:"ql-header",defaultValue:"0"},s.createElement("option",{value:"1"},"Heading"),s.createElement("option",{value:"2"},"Subheading"),s.createElement("option",{value:"0"},"Normal")),s.createElement("select",{className:"ql-font"},s.createElement("option",null),s.createElement("option",{value:"serif"}),s.createElement("option",{value:"monospace"}))),s.createElement("span",{className:"ql-formats"},s.createElement("button",{type:"button",className:"ql-bold","aria-label":"Bold"}),s.createElement("button",{type:"button",className:"ql-italic","aria-label":"Italic"}),s.createElement("button",{type:"button",className:"ql-underline","aria-label":"Underline"})),s.createElement("span",{className:"ql-formats"},s.createElement("select",{className:"ql-color"}),s.createElement("select",{className:"ql-background"})),s.createElement("span",{className:"ql-formats"},s.createElement("button",{type:"button",className:"ql-list",value:"ordered","aria-label":"Ordered List"}),s.createElement("button",{type:"button",className:"ql-list",value:"bullet","aria-label":"Unordered List"}),s.createElement("select",{className:"ql-align"},s.createElement("option",{defaultValue:!0}),s.createElement("option",{value:"center"}),s.createElement("option",{value:"right"}),s.createElement("option",{value:"justify"}))),s.createElement("span",{className:"ql-formats"},s.createElement("button",{type:"button",className:"ql-link","aria-label":"Insert Link"}),s.createElement("button",{type:"button",className:"ql-image","aria-label":"Insert Image"}),s.createElement("button",{type:"button",className:"ql-code-block","aria-label":"Insert Code Block"})),s.createElement("span",{className:"ql-formats"},s.createElement("button",{type:"button",className:"ql-clean","aria-label":"Remove Styles"}))),v=s.createElement("div",{ref:l,className:"p-editor-content",style:a.style});return s.createElement("div",E({id:a.id,ref:r,className:d},m),p,v)})));O.displayName="Editor";var T=n(30459),P=n(59243),q=n(80184),L=function(){var e=(0,s.useState)(null),t=(0,o.Z)(e,2),n=t[0],b=t[1],g=(0,s.useState)([]),N=(0,o.Z)(g,2),j=N[0],E=N[1],Z=(0,s.useState)(""),S=(0,o.Z)(Z,2),C=(S[0],S[1],(0,s.useState)(!1)),w=(0,o.Z)(C,2),I=w[0],k=w[1],A=(0,y.UO)().idUser,L=(0,s.useState)(0),R=(0,o.Z)(L,2),D=R[0],W=R[1],_=(0,y.s0)(),V=(0,s.useState)({word:{value:null,validationType:"empty"},autor:{value:null,validationType:"empty"},name:{value:null,validationType:"empty"},resume:{value:null,validationType:"empty"},idiom:{value:null,validationType:"empty"},country:{value:null,validationType:"empty"},claveWord:{value:null,validationType:"empty"},interesConflict:{value:null,interesConflict:"empty"},reference:{value:null,interesConflict:"empty"}}),z=(0,o.Z)(V,2),H=z[0],F=z[1],M=(0,s.useState)(-1),U=(0,o.Z)(M,2),B=U[0],Q=U[1],K=(0,s.useState)([]),J=(0,o.Z)(K,2),Y=J[0],G=J[1];(0,s.useEffect)((function(){Y.map((function(e,t){for(var n in e)document.getElementById(n)&&(0,f.yt)(n,e)}))}),[Y]);var X=(0,s.useState)(null),$=(0,o.Z)(X,2),ee=$[0],te=$[1],ne=(0,s.useState)(null),ae=(0,o.Z)(ne,2),re=ae[0],le=ae[1],ce=(0,s.useState)(null),ie=(0,o.Z)(ce,2),oe=ie[0],se=ie[1],ue=(0,s.useState)({textAreaResumeW:!1,textAreaInteresConflictW:!1,textAreaReferenceW:!1}),me=(0,o.Z)(ue,2),de=me[0],pe=me[1];(0,s.useEffect)((function(){if(ee){var e=(0,l.Z)({},de);e.textAreaResumeW=!0,pe(e)}if(re){var t=(0,l.Z)({},de);t.textAreaInteresConflictW=!0,pe(t)}if(oe){var n=(0,l.Z)({},de);n.textAreaReferenceW=!0,pe(n)}if(1==de.textAreaResumeW&&null==ee){var a=(0,l.Z)({},H);a.resume.value="",F(a)}if(1==de.textAreaInteresConflictW&&null==re){var r=(0,l.Z)({},H);r.interesConflict.value="",F(r)}if(1==de.textAreaReferenceW&&null==oe){var c=(0,l.Z)({},H);c.reference.value="",F(c)}for(var i in H)document.getElementById(i)&&(0,f.yt)(i,H)}),[H]),(0,s.useEffect)((function(){var e=(0,l.Z)({},H);e.resume.value=ee,e.interesConflict.value=re,e.reference.value=oe,F(e)}),[ee,re,oe]),(0,s.useEffect)((function(){var e=(0,l.Z)({},H);e.word.value=n,F(e)}),[n]);var ve=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,f.DD)(H,F)){e.next=12;break}if(!(0,f.rQ)(Y,G)){e.next=9;break}return k(!0),e.next=5,x(H,Y,_,A);case 5:200===(t=e.sent).status&&((0,h.Wi)("Art\xedculo enviado correctamente"),setTimeout((function(){_("/user/dashboard/".concat(t.userId))}),3500)),e.next=10;break;case 9:(0,h.zR)("\xa1Ingrese todos los campos requeridos!");case 10:e.next=13;break;case 12:(0,h.zR)("\xa1Ingrese todos los datos del autor!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=(0,s.useState)(!0),he=(0,o.Z)(fe,2),ye=he[0],be=he[1],ge=[{id:1,value:"Licenciatura ",code:"Licenciatura "},{id:2,value:"Maestr\xeda",code:"mastria"},{id:3,value:"Doctorado",code:"doctorado"},,];(0,s.useEffect)((function(){xe()}),[]);var xe=function(){var e=(0,r.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,T.TK)();case 3:t=e.sent,E(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,h.zR)("\xa1Algo sali\xf3 mal, intentalo m\xe1s tarde!",!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,q.jsx)(q.Fragment,{children:(0,q.jsx)("div",{className:"CreateArticle",children:(0,q.jsxs)(u.Z,{children:[(0,q.jsx)(m.Z,{className:"_back_",url:"/user/dashboard/".concat(A)}),I?(0,q.jsxs)("div",{style:{width:"100%",height:72,marginBottom:"2.5rem",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,q.jsx)("h1",{style:{fontSize:"1.5rem"},children:"Nuevo art\xedculo"}),(0,q.jsx)(P.Z,{})]}):(0,q.jsx)(d.h4,{title:"Nuevo art\xedculo",button:"Enviar articulo",onClick:function(){return ve()}}),(0,q.jsxs)(p.Z,{className:"cardInteriorCreateArticle",children:[(0,q.jsxs)("div",{className:"grid-patern-CreateArticle",children:[(0,q.jsxs)("div",{style:{marginBottom:25},children:[(0,q.jsx)(v.Z,{id:"word",setValue:b}),(0,q.jsx)("div",{className:"wordName",children:null===n||void 0===n?void 0:n.name})]}),(0,q.jsx)(d.II,{title:"T\xedtulo del art\xedculo",placeholder:"T\xedtulo del art\xedculo",className:"inputArticleName",id:"name",onChange:function(e){(0,f.yS)(e,"name",H,F)}}),(0,q.jsx)(d.II,{title:"Nombre del autor",placeholder:"Nombre del autor",className:"inputArticleName",id:"autor",onChange:function(e){(0,f.yS)(e,"autor",H,F)}}),(0,q.jsx)(d.Ph,{title:"Idioma",options:[{name:"Espa\xf1ol",value:"Espa\xf1ol"},{name:"Ingles",value:"Ingles"},{name:"Lengua originaria",value:"Lengua originaria"}],value:H.idiom.value,placeholder:"Seleccione el idioma del art\xedculo",className:"selectSize",id:"idiom",onChange:function(e){(0,f.yS)(e,"idiom",H,F)}}),(0,q.jsx)(d.Ph,{title:"Pa\xeds",options:j,value:H.country.value,placeholder:"Seleccione un pa\xeds",className:"selectSize",id:"country",onChange:function(e){(0,f.yS)(e,"country",H,F)}}),(0,q.jsx)(d.II,{title:"Palabra clave",placeholder:"Palabra clave",className:"inputArticleName",id:"claveWord",onChange:function(e){(0,f.yS)(e,"claveWord",H,F)}}),Y.map((function(e,t){return(0,q.jsxs)(q.Fragment,{children:[(0,q.jsxs)("div",{className:"staking-parent",children:[(0,q.jsxs)("div",{className:"statk_in",children:[(0,q.jsx)(d.II,{title:"Nombre",placeholder:"Nombre",className:"inputArticleName",id:"nameStaking".concat(t),onChange:function(e){(0,f.f2)(e,"nameStaking".concat(t),t,Y,G)}}),(0,q.jsx)(d.II,{title:"Apellidos",placeholder:"Apellidos",className:"inputArticleName",id:"lastName".concat(t),onChange:function(e){(0,f.f2)(e,"lastName".concat(t),t,Y,G)}})]}),(0,q.jsxs)("div",{className:"statk_in",children:[(0,q.jsx)(d.II,{title:"Orcid",placeholder:"Orcid",className:"inputArticleName",id:"Orcid".concat(t),onChange:function(e){(0,f.f2)(e,"Orcid".concat(t),t,Y,G)}}),(0,q.jsx)(d.Ph,{title:"Nivel acad\xe9mico",value:e["level".concat(t)].value,options:ge,placeholder:"Nivel acad\xe9mico",className:"selectSize",id:"level".concat(t),onChange:function(e){(0,f.f2)(e,"level".concat(t),t,Y,G)}})]}),(0,q.jsxs)("div",{className:"statk_in",children:[(0,q.jsx)(d.II,{title:"Email",placeholder:"Email",className:"inputArticleName",id:"Email".concat(t),onChange:function(e){(0,f.f2)(e,"Email".concat(t),t,Y,G)}}),(0,q.jsx)(d.Ph,{title:"Pa\xeds",value:e["pais".concat(t)].value,options:j,placeholder:"Pa\xeds",className:"selectSize",id:"pais".concat(t),onChange:function(e){(0,f.f2)(e,"pais".concat(t),t,Y,G)}})]}),(0,q.jsx)("div",{className:"statk_in",children:(0,q.jsx)(d.II,{title:"Instituci\xf3n",placeholder:"Instituci\xf3n",className:"inputArticleName",id:"Instituci\xf3n".concat(t),onChange:function(e){(0,f.f2)(e,"Instituci\xf3n".concat(t),t,Y,G)}})}),(0,q.jsx)("div",{className:"Line_line"})]}),(0,q.jsx)("hr",{className:"hrstaking"})]})})),(0,q.jsx)("div",{className:"new_inputs",children:(0,q.jsx)(d.zx,{className:"buttonStaking btn_primary",title:"A\xf1adir nuevo autor",onClick:function(){return function(){if((0,f.rQ)(Y,G)){var e,t=B;t+=1;var n=(0,i.Z)(Y);n.push((e={},(0,c.Z)(e,"nameStaking".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"lastName".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"Orcid".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"level".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"Email".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"pais".concat(t),{value:null,validationType:"empty"}),(0,c.Z)(e,"Instituci\xf3n".concat(t),{value:null,validationType:"empty"}),e)),G(n),Q(t)}}()}})})]}),(0,q.jsxs)("div",{className:"entry_left",children:[(0,q.jsxs)("div",{className:"textArea-createArticle",children:[(0,q.jsxs)("div",{className:"minititle",children:[(0,q.jsx)("div",{children:"Resumen"}),(0,q.jsxs)("div",{children:[D,"/500"]})]}),(0,q.jsx)(O,{onPaste:function(e){e.preventDefault();var t=(e.clipboardData||window.clipboardData).getData("text"),n=ee||"",a=t.trim().split(/\s+/),r=n.trim().split(/\s+/).length+a.length,l=500-r;if(!(r>500)){if(l<0){var c=n+" "+a.slice(0,Math.abs(l)).join(" ");e.htmlValue=c,W(500)}else{var i=n+" "+t;e.htmlValue=i,W(r)}te(e.htmlValue)}},onKeyPress:function(e){ye||e.preventDefault()},readOnly:!ye,className:"editor",value:ee,id:"resume",onTextChange:function(e){var t=e.htmlValue,n=e.textValue.split(/\n+/).length-2,a="";null!=t?a=t.trim().split(/\s+/):te("");var r=a.length+n;if(r>500){var l=a.slice(0,500).join(" ");te(l),be(!1)}else be(!0),W(r),te(t)},style:{height:"300px"}})]}),(0,q.jsxs)("div",{className:"textArea-createArticle",children:[(0,q.jsx)("div",{className:"minititle",children:(0,q.jsx)("div",{children:"Conflicto de inter\xe9s"})}),(0,q.jsx)(O,{className:"editor",value:re,id:"interesConflict",onTextChange:function(e){le(e.htmlValue)},style:{height:"150px"}})]}),(0,q.jsxs)("div",{className:"textArea-createArticle",children:[(0,q.jsx)("div",{className:"minititle",children:(0,q.jsx)("div",{children:"Referencias"})}),(0,q.jsx)(O,{value:oe,className:"editor",id:"reference",onTextChange:function(e){se(e.htmlValue)},style:{height:"150px"}})]})]})]})]})})})}},35407:function(e,t,n){"use strict";n.d(t,{Q:function(){return c},o:function(){return i}});var a=n(89704),r=n.n(a),l="C4CF1629D81577CF",c=function(e){var t=r().AES.encrypt(e.toString(),l).toString();return t=t.replace(/\//g,"_")},i=function(e){var t=e.replace(/_/g,"/");return r().AES.decrypt(t,l,{iv:r().enc.Hex.parse("a0d5ebe6a0d5ebe6a0d5ebe6a0d5ebe6")}).toString(r().enc.Utf8)}},42480:function(){}}]);
//# sourceMappingURL=805.36bc486c.chunk.js.map