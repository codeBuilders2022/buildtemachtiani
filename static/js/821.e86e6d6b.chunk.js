(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[821],{27619:function(t,e,a){"use strict";a.d(e,{Qo:function(){return m},if:function(){return f},oN:function(){return x}});var n=a(74165),r=a(15861),c=a(31243),i=a(49813),s=a(89704),u=a.n(s),o="https://api.revistatemachtiani.net",d="C4CF1629D81577CF",f=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(e,a){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o,"/api/registers?filters[email][$eq]=").concat(e)).then((function(t){if(0!=t.data.data.length){(0,i.Wi)("Email valido");var c=function(){var c=(0,r.Z)((0,n.Z)().mark((function r(){var c;return(0,n.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,v(e);case 2:if(!n.sent){n.next=6;break}A(t.data.data,e,a,t.data.data[0].id),n.next=8;break;case 6:c=l(),p(e,c,a,t.data.data[0].id);case 8:case"end":return n.stop()}}),r)})));return function(){return c.apply(this,arguments)}}();c()}else(0,i.zR)("Email invalido")})).catch((function(){(0,i.zR)("Email invalido")}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),l=function(){return Math.floor(9e4*Math.random())+1e4},p=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(e,a,r,i){var s,u,d,f,l;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g(e);case 2:return s=t.sent,u={data:{email:e,code:a}},t.next=6,c.Z.post("".concat(o,"/api/verify-codes"),u);case 6:h(e,"Este es un c\xf3digo de verificaci\xf3n de temachtiani",a),d=m(a),f=m(i),l=m(s),d=d.replace(/\//g,"_"),f=f.replace(/\//g,"_"),l=l.replace(/\//g,"_"),r("/verification-code/".concat(d,"/").concat(f,"/").concat(l));case 14:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(e){return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.Z.get("".concat(o,"/api/verify-codes?filters[email][$eq]=").concat(e));case 3:if(0==t.sent.data.data.length){t.next=8;break}return t.abrupt("return",!0);case 8:return t.abrupt("return",!1);case 9:t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e){return t.apply(this,arguments)}}(),h=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(e,a,r){var i,s;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"===typeof r){t.next=7;break}return i=r.toString(),s={to:e,subject:a,text:i},t.next=5,c.Z.post("".concat(o,"/api/email"),s).then((function(t){})).catch((function(t){}));case 5:t.next=7;break;case 7:case"end":return t.stop()}}),t)})));return function(e,a,n){return t.apply(this,arguments)}}(),A=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(e,a,r,i){var s,u,d,f,p,v,A;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o,"/api/verify-codes?filters[email][$eq]=").concat(a));case 2:return s=t.sent,t.next=5,g(a);case 5:return u=t.sent,d=l(),f={data:{code:d}},t.next=10,c.Z.put("".concat(o,"/api/verify-codes/").concat(s.data.data[0].id),f);case 10:h(a,"Este es un c\xf3digo de verificaci\xf3n de temachtiani",d),p=(p=m(d)).replace(/\//g,"_"),v=(v=m(i)).replace(/\//g,"_"),A=(A=m(u)).replace(/\//g,"_"),r("/verification-code/".concat(p,"/").concat(v,"/").concat(A));case 18:case"end":return t.stop()}}),t)})));return function(e,a,n,r){return t.apply(this,arguments)}}(),m=function(t){return u().AES.encrypt(t.toString(),d).toString()},x=function(t){return u().AES.decrypt(t,d,{iv:u().enc.Hex.parse("a0d5ebe6a0d5ebe6a0d5ebe6a0d5ebe6")}).toString(u().enc.Utf8)},g=function(){var t=(0,r.Z)((0,n.Z)().mark((function t(e){var a;return(0,n.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.Z.get("".concat(o,"/api/users?filters[email][$eq]=").concat(e));case 2:return a=t.sent,t.abrupt("return",a.data[0].id);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},40668:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return x}});var n=a(29439),r=(a(33849),a(90445)),c=a(1063),i=a(12653),s=a(97329),u=a(57689),o=a(11087),d=a(72791),f=a(74165),l=a(15861),p=a(31243),v=a(27619),h=function(){var t=(0,l.Z)((0,f.Z)().mark((function t(e,a){return(0,f.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.Z.get("".concat("https://api.revistatemachtiani.net","/api/articles?filters[idUser][$eq]=").concat(e)).then((function(t){var e=[];t.data.data.map((function(t,a){var n=new Date(t.attributes.createdAt),r=(0,v.Qo)(t.id);r=r.replace(/\//g,"_"),e.push({id:r,title:t.attributes.dataArticle.name,resume:t.attributes.dataArticle.resume,createdat:n.toLocaleDateString(),estatus:0==t.attributes.dataArticle.estatus?"Pendiente":1==t.attributes.dataArticle.estatus?"Evaluando":2==t.attributes.dataArticle.estatus?"Dictaminado":3==t.attributes.dataArticle.estatus?"Rechazado":4==t.attributes.dataArticle.estatus?"Aceptado con correcciones menores":5==t.attributes.dataArticle.estatus?"Aceptado con correcciones mayores":6==t.attributes.dataArticle.estatus?"Aceptado":7==t.attributes.dataArticle.estatus?"Publicado":""})})),a(e)})).catch((function(t){console.log(t)}));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}(),A=a(35407),m=a(80184),x=function(){var t=(0,u.UO)().idUser,e=(0,d.useState)(),a=(0,n.Z)(e,2),f=a[0],l=a[1];return(0,d.useEffect)((function(){var e=(0,A.o)(t);h(e,l)}),[]),(0,m.jsx)("div",{className:"TableArticles",children:(0,m.jsx)(i.Z,{children:(0,m.jsxs)("div",{className:"containerr",children:[(0,m.jsx)(s.h4,{title:"Mis art\xedculos",button:"Enviar nuevo art\xedculo",url:"/user/article-create/".concat(t)}),(0,m.jsxs)(r.w,{value:f,stripedRows:!0,tableStyle:{minWidth:"30rem"},children:[(0,m.jsx)(c.s,{field:"title",header:"T\xedtulo"}),(0,m.jsx)(c.s,{field:"createdat",header:"Fecha"}),(0,m.jsx)(c.s,{field:"estatus",header:"Estado"}),(0,m.jsx)(c.s,{field:"actions",header:"Acciones",body:function(e){var a=e.id;return(0,m.jsx)(o.OL,{to:"/user/my-article/".concat(a,"/").concat(t),children:(0,m.jsx)("div",{className:"actionTemplate",children:(0,m.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA/wD/AP+gvaeTAAABs0lEQVQ4je2SP2sUURTFf/cNw+wKY2UXUCGKWItYiLoW+8/ANPrExkaEKFaixE9goaCNKFpoIQQCG9BdDDOzVQI2Ev0EmkJBsNjdYrealX3XwhE2ySxYpsjp3j33nPvefQf2secgs4harXZGRG4C54HDefkHsKGqr7vd7qf/Mmw2mwedcy+Bazn/UUReqOpt4FzepsCKMeZWHMfDab2ZPlSr1ePOuc8i4gMt4Itz7q6q3gPOTrWuAoFzbrNerx8rNIyiKDTGvBeRdpIkV4ETqrrsed5D4NSO4SfTNL0CfADaURSFuwyzLHsMfE2SZAlQEfktIndU9WLBqsaApml6H/iWZdmjwicDByqVigegqqvAPODvdFPVFoC11ohISVV1l2EQBEvAXKlUem6t9Xq93lNgveB26/1+/4m11hsOh89UdW48Hj/4R2775XzBa8BP3/evl8vlX6PRaNE5twBgjFkLw/DVYDA45Pv+W1U9aoy5FMfxVqEhbIvNZRFpAW1V3TLG6GQymReRBf5G6l0QBIudTmc0rZ8Z7EajcVpVbwAXgCN5+TuwISJvkiTZnKXdxx7DH1VZpXD/F2+fAAAAAElFTkSuQmCC",className:"ImgView_"})})})}})]})]})})})}},35407:function(t,e,a){"use strict";a.d(e,{Q:function(){return i},o:function(){return s}});var n=a(89704),r=a.n(n),c="C4CF1629D81577CF",i=function(t){var e=r().AES.encrypt(t.toString(),c).toString();return e=e.replace(/\//g,"_")},s=function(t){var e=t.replace(/_/g,"/");return r().AES.decrypt(e,c,{iv:r().enc.Hex.parse("a0d5ebe6a0d5ebe6a0d5ebe6a0d5ebe6")}).toString(r().enc.Utf8)}},42480:function(){}}]);
//# sourceMappingURL=821.e86e6d6b.chunk.js.map