(self.webpackChunktemachtiani=self.webpackChunktemachtiani||[]).push([[213],{30459:function(e,t,a){"use strict";a.d(t,{Hk:function(){return s},TK:function(){return o},i6:function(){return c}});var n=a(74165),r=a(15861),i=a(31243),s=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,a){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,i.Z.post("".concat("https://api.revistatemachtiani.net").concat(t),a);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),c=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(t,a){var r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://api.revistatemachtiani.net",e.next=4,i.Z.post("".concat("https://api.revistatemachtiani.net").concat(t),a);case 4:return r=e.sent,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),console.error(e.t0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)((0,n.Z)().mark((function e(){var t,a,r;return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://restcountries.com/v3.1/all",t=[],a=[],e.prev=3,e.next=6,i.Z.get("https://restcountries.com/v3.1/all");case 6:return r=e.sent,r.data.map((function(e,a){var n=e.translations.spa.common;t.push(n)})),t.sort((function(e,t){return e.localeCompare(t)})),t.map((function(e,t){var n={name:e,value:e};a.push(n)})),e.abrupt("return",a);case 14:return e.prev=14,e.t0=e.catch(3),console.error(e.t0),e.abrupt("return",e.t0);case 18:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(){return e.apply(this,arguments)}}()},59243:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});a(72791);var n=a(80184),r=function(e){var t=e.className;return(0,n.jsx)("div",{className:"cnt_loading ".concat(t),children:(0,n.jsx)("div",{className:"AnimationLoading border-solid border-t-[2px] border-green-700 dark:border-white"})})}},31391:function(e,t,a){"use strict";a.r(t);var n=a(1413),r=a(74165),i=a(15861),s=a(29439),c=a(72791),o=a(11087),l=a(97329),u=a(22664),d=(a(52641),a(39304)),p=a(49813),v=a(30459),m=a(35407),h=a(59243),f=a(80184);t.default=function(){var e=(0,c.useState)(!1),t=(0,s.Z)(e,2),a=t[0],x=t[1],y=(0,c.useState)({names:{value:null,validationType:"empty"},lastName:{value:null,validationType:"empty"},country:{value:null,validationType:"empty"},birthdate:{value:null,validationType:"empty"},gender:{value:null,validationType:"empty"},user:{value:null,validationType:"empty"},email:{value:null,validationType:"email"},password:{value:null,validationType:"empty"},confirm_password:{value:null,validationType:"empty"},orcid:{value:null,validationType:"empty"},ocupation:{value:null,validationType:"empty"},institute:{value:null,validationType:"empty"},academic_level:{value:null,validationType:"empty"}}),g=(0,s.Z)(y,2),_=g[0],b=g[1],j=(0,c.useState)(null),N=(0,s.Z)(j,2),C=N[0],w=N[1];(0,c.useEffect)((function(){for(var e in _)document.getElementById(e)&&(0,d.yt)(e,_),"email"===e&&(0,d.yt)(e,_,"email")}),[_]);var Z=(0,c.useState)(!1),k=(0,s.Z)(Z,2),S=k[0],I=k[1],R=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,a,n,i,c,o,l,u,h,f,y;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=(0,m.Q)("876966"),a=(0,d.DD)(_,b),n={data:{}},i=["country","gender","ocupation","academic_level"],!a){e.next=25;break}return x(!0),e.prev=6,c={username:_.user.value,email:_.email.value,password:_.password.value,accounttype:t},e.next=10,(0,v.i6)("/api/auth/local/register",c);case 10:for(o=e.sent,n.data.userId=o.data.user.id,l=0,u=Object.entries(_);l<u.length;l++)h=(0,s.Z)(u[l],2),f=h[0],y=h[1].value,n.data[f]=(i.includes(f),y);if(200!==o.status){e.next=18;break}return e.next=16,(0,v.Hk)("/api/registers",n);case 16:200===e.sent.status?((0,p.A$)("\xa1Gracias por registrarte!","Revisa tu correo para confirmar tu cuenta haciendo clic en el enlace de confirmaci\xf3n. \xa1Bienvenido/a a nuestra comunidad en l\xednea!"),setTimeout((function(){I(!0)}),5e3)):(x(!1),(0,p.zR)("\xa1Algo sali\xf3 mal, intentalo m\xe1s tarde!",!0));case 18:400===o.status&&(x(!1),(0,p.zR)("Se envio una correo de confimacion a la siguiente direccion: ".concat(_.email.value))),e.next=25;break;case 21:e.prev=21,e.t0=e.catch(6),x(!1),(0,p.zR)("El correo electr\xf3nico o el nombre de usuario ya est\xe1n en uso",!0);case 25:case"end":return e.stop()}}),e,null,[[6,21]])})));return function(){return e.apply(this,arguments)}}(),T=(0,c.useState)({step_one:!0,step_two:!1,step_three:!1}),D=(0,s.Z)(T,2),z=D[0],O=D[1];(0,c.useEffect)((function(){A()}),[]);var A=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,v.TK)();case 3:t=e.sent,w(t),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),(0,p.zR)("\xa1Algo sali\xf3 mal, intentalo m\xe1s tarde!",!0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,f.jsxs)("div",{className:"Log_",children:[(0,f.jsxs)("div",{className:"inside_log ".concat(S&&"hiddenMenu"),children:[(0,f.jsx)(u.Z,{className:"btn_return",url:"/"}),(0,f.jsxs)("div",{className:"container",children:[(0,f.jsxs)("div",{className:"tamanio_cards",children:[(0,f.jsx)("h1",{children:"Datos personales"}),(0,f.jsxs)("div",{className:"inside_card",children:[(0,f.jsx)(l.II,{title:"Nombre(s)",placeholder:"Nombre(s)",id:"names",onChange:function(e){return(0,d.yS)(e,"names",_,b)}}),(0,f.jsx)(l.II,{title:"Apellidos",placeholder:"Apellidos",id:"lastName",onChange:function(e){return(0,d.yS)(e,"lastName",_,b)}}),(0,f.jsxs)("div",{className:"cnt_selects",children:[(0,f.jsx)(l.Ph,{title:"Pa\xeds",placeholder:"Pa\xeds",value:_.country.value,options:C,id:"country",onChange:function(e){return(0,d.yS)(e,"country",_,b)}}),(0,f.jsx)(l.Ph,{title:"G\xe9nero",placeholder:"G\xe9nero",options:[{value:"Masculino",code:"masculino"},{value:"Femenino",code:"femenino"},{value:"Otros",code:"otro"}],value:_.gender.value,id:"gender",onChange:function(e){return(0,d.yS)(e,"gender",_,b)}})]}),(0,f.jsx)(l.II,{type:"date",title:"Fecha de nacimiento",placeholder:"Fecha de nacimiento",value:_.birthdate.value,id:"birthdate",onChange:function(e){return(0,d.yS)(e,"birthdate",_,b)}}),(0,f.jsx)("div",{className:"cnt_btn",children:(0,f.jsx)(l.zx,{title:"Siguiente",className:"btn_primary",onClick:function(){O((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_one:!1,step_two:!0})}))}})})]}),!z.step_one&&(0,f.jsx)("div",{className:"dark:bg-half-transparent-black bg-half-transparent-white layer_blur"})]}),(0,f.jsxs)("div",{className:"tamanio_cards",children:[(0,f.jsx)("h1",{children:"Cuenta"}),(0,f.jsxs)("div",{className:"inside_card",children:[(0,f.jsx)(l.II,{title:"Usuario",placeholder:"Usuario",id:"user",onChange:function(e){return(0,d.yS)(e,"user",_,b)}}),(0,f.jsx)(l.II,{title:"Correo electr\xf3nico",placeholder:"Correo electr\xf3nico",id:"email",onChange:function(e){return(0,d.yS)(e,"email",_,b)}}),(0,f.jsxs)("div",{className:"instructions_pass",children:[(0,f.jsx)(l.CM,{title:"Contrase\xf1a",placeholder:"Contrase\xf1a",id:"password",onChange:function(e){return(0,d.yS)(e,"password",_,b)}}),(0,f.jsx)("div",{className:"desxr_",children:"Utiliza ocho caracteres como m\xednimo con una combinaci\xf3n de una letra, un n\xfamero y un s\xedmbolo"})]}),(0,f.jsx)(l.CM,{title:"Confirmar contrase\xf1a",placeholder:"Confirmar contrase\xf1a",id:"confirm_password",onChange:function(e){return(0,d.yS)(e,"confirm_password",_,b)}}),(0,f.jsxs)("div",{className:"cnt_btn btn_second",children:[(0,f.jsx)(l.zx,{title:"Regresar",className:"btn_cancel",onClick:function(){O((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_one:!0,step_two:!1})}))}}),(0,f.jsx)(l.zx,{title:"Siguiente",className:"btn_primary",onClick:function(){(0,d.JG)(_.password.value)?_.password.value!==_.confirm_password.value?(0,p.zR)("Las contrase\xf1as no coinciden",!0):O((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_three:!0,step_two:!1})})):(0,p.zR)("La contrase\xf1a debe contener al menos un d\xedgito, una letra may\xfascula y un car\xe1cter especial, y tener al menos 8 caracteres.",!0)}})]})]}),!z.step_two&&(0,f.jsx)("div",{className:"dark:bg-half-transparent-black bg-half-transparent-white layer_blur"})]}),(0,f.jsxs)("div",{className:"tamanio_cards three_card",children:[(0,f.jsxs)("div",{className:"inside_three",children:[(0,f.jsx)("h1",{children:"Tipo de cuenta"}),(0,f.jsxs)("div",{className:"inside_card inside_card_three",children:[(0,f.jsxs)("div",{className:"cnt-orcid",children:[(0,f.jsx)(l.II,{title:"Orcid ID",placeholder:"Orcid ID",id:"orcid",onChange:function(e){return(0,d.yS)(e,"orcid",_,b)}}),(0,f.jsxs)("label",{className:"orcid_",children:["Solo el ",(0,f.jsx)("a",{href:"https://orcid.org/",style:{color:"blue"},target:"_blank",rel:"noreferrer",children:"Registro ORCID"})," puede asignar ORCID iDs. Debes aceptar sus est\xe1ndares para disponer de ORCID iDs e incluir la URL completa (pe. https://orcid.org/0000-0002-1825-0097)."]})]}),(0,f.jsx)(l.II,{title:"Instituto",placeholder:"Instituto",id:"institute",onChange:function(e){return(0,d.yS)(e,"institute",_,b)}}),(0,f.jsx)(l.Ph,{title:"Ocupaci\xf3n",placeholder:"Ocupaci\xf3n",options:[{id:2,value:"Investigador(a)",code:"investigador"},{id:2,value:"Estudiante",code:"estudiante"}],value:_.ocupation.value,id:"ocupation",onChange:function(e){return(0,d.yS)(e,"ocupation",_,b)}}),(0,f.jsx)(l.Ph,{title:"Nivel acad\xe9mico",placeholder:"Nivel acad\xe9mico",options:[{id:1,value:"Licenciatura ",code:"Licenciatura "},{id:2,value:"Maestr\xeda",code:"mastria"},{id:3,value:"Doctorado",code:"doctorado"}],value:_.academic_level.value,id:"academic_level",onChange:function(e){return(0,d.yS)(e,"academic_level",_,b)}})]})]}),(0,f.jsx)("div",{className:"cnt_btn th_",children:a?(0,f.jsx)(h.Z,{}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(l.zx,{title:"Regresar",className:"btn_cancel",onClick:function(){O((function(e){return(0,n.Z)((0,n.Z)({},e),{},{step_three:!1,step_two:!0})}))}}),(0,f.jsx)(l.zx,{title:"Crear cuenta",className:"btn_primary",onClick:function(){return R()}})]})}),!z.step_three&&(0,f.jsx)("div",{className:"dark:bg-half-transparent-black bg-half-transparent-white layer_blur"})]})]}),(0,f.jsx)("div",{className:"dark:text-white Ihave_Account",children:(0,f.jsx)(o.OL,{className:"link_account",to:"/login",children:"Ya tengo una cuenta"})})]}),(0,f.jsxs)("div",{className:"hiddenDiv dark:text-white ".concat(S&&"completedRegister"),children:[(0,f.jsx)("label",{htmlFor:"",children:"\xa1Registro Completo!"}),"Revisa tu bandeja de correo electr\xf3nico:"," "," ",(0,f.jsx)("b",{children:_.email.value})]})]})}},35407:function(e,t,a){"use strict";a.d(t,{Q:function(){return s},o:function(){return c}});var n=a(89704),r=a.n(n),i="C4CF1629D81577CF",s=function(e){var t=r().AES.encrypt(e.toString(),i).toString();return t=t.replace(/\//g,"_")},c=function(e){var t=e.replace(/_/g,"/");return r().AES.decrypt(t,i,{iv:r().enc.Hex.parse("a0d5ebe6a0d5ebe6a0d5ebe6a0d5ebe6")}).toString(r().enc.Utf8)}},42480:function(){}}]);
//# sourceMappingURL=213.235aec31.chunk.js.map